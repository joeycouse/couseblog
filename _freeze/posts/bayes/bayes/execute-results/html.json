{
  "hash": "1af71d03f4d6a7dc7d21608b85e9f672",
  "result": {
    "markdown": "---\ntitle: \"Modeling Naturally Occuring Hierarchies with Bayes\"\nauthor: \"Joey Couse\"\ndate: \"2022-09-01\"\ndescription: \"When a simple t-Test won't do - think bayesian\"\ndraft: true\nimage: bayes.png\ncategories: \n  - demo\n  - bayesian\nexecute: \n  message: false\n  echo: true\n  warning: false\n---\n\n\n\n\n![](bayes.png)\n\n## What is a Hierarchical Model?\n\nHierarchies are pervasive in the natural work and modeling these relationship can yield rich and powerful analysis. \n\nMost students aren't exposed to the ideas of hierarchical modeling in traditional statistics curriculum. Bayesian hierarchical modeling helps illuminate complex relationships simultaneously without the pitfalls of multiple comparison testing from frequentist methods [^1].\n\n[^1]: If you aren't familiar with the pitfalls of multiple comparison testing suggest you read [Multiple Comparisons Problem](https://en.wikipedia.org/wiki/Multiple_comparisons_problem)\n\nHierarchy is everywhere:\n\n$$\nhousehold \\rightarrow neighborhood \\rightarrow town/city \\rightarrow county \\rightarrow state\n$$\n\n$$\nplayer \\rightarrow team \\rightarrow division \\rightarrow conference \\rightarrow league\n$$\n\n$$\nstudent \\rightarrow class \\rightarrow school \\rightarrow district\n$$\nHierarchical models account for chained dependencies within our data, and as a result more appropriately represent our intuitive understanding of these relationships. These dependencies are represented with group-level parameters e.g. a group intercept, and inform lower level parameter estimates. \n\nWhen we account for hierarchy in our statistical modeling we can answer comprehensive questions about our data without the need for multiple tests. We can directly model all relationships simultaneously and utilize all the available data without aggregation. \n\nHierarchical models aren't exclusive to Bayesian statistics [^2], though I think Bayesian models provide much richer and intuitive interpretations of model parameters (can someone explain a confidence interval again?).\n\n[^2]: To learn more about the frequentist version of hierarchical models [Random Effects model](https://en.wikipedia.org/wiki/Random_effects_model)\n\n## How to do Hierachical Modeling with R \n\nI'll demonstrate the benefits of hierarchical modeling using a data set of baseball player's batting average from the 2022 season publicly available [here](https://www.baseball-reference.com/leagues/majors/2021-standard-batting.shtml). I'll be using a suite of packages known as the [tidyverse](https://www.tidyverse.org/) from the R language.\n\n\nFirst I'll begin by reading in the dataset using the `read_csv` function.\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_raw <-\n  read_csv(\"baseball_stats_2021.csv\", name_repair = janitor::make_clean_names) |> \n  select(name,\n         team = tm,\n         at_bats = ab,\n         hits = h,\n         position = pos_summary,\n         name_additional\n         )\n\ndf_raw |> \n  head(10) |> \n  gt() |> \n  cols_label(name = md(\"**Name**\"),\n             team = md(\"**Team**\"),\n             at_bats = md(\"**At Bats**\"),\n             hits = md(\"**Hits**\"),\n             position = md(\"**Position**\"),\n             name_additional = md(\"**Name Id**\"))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"uybsoskfsc\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#uybsoskfsc .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#uybsoskfsc .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#uybsoskfsc .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#uybsoskfsc .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#uybsoskfsc .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#uybsoskfsc .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#uybsoskfsc .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#uybsoskfsc .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#uybsoskfsc .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#uybsoskfsc .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#uybsoskfsc .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#uybsoskfsc .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#uybsoskfsc .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#uybsoskfsc .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#uybsoskfsc .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#uybsoskfsc .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#uybsoskfsc .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#uybsoskfsc .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#uybsoskfsc .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#uybsoskfsc .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#uybsoskfsc .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#uybsoskfsc .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#uybsoskfsc .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#uybsoskfsc .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#uybsoskfsc .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#uybsoskfsc .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#uybsoskfsc .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#uybsoskfsc .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#uybsoskfsc .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#uybsoskfsc .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#uybsoskfsc .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#uybsoskfsc .gt_left {\n  text-align: left;\n}\n\n#uybsoskfsc .gt_center {\n  text-align: center;\n}\n\n#uybsoskfsc .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#uybsoskfsc .gt_font_normal {\n  font-weight: normal;\n}\n\n#uybsoskfsc .gt_font_bold {\n  font-weight: bold;\n}\n\n#uybsoskfsc .gt_font_italic {\n  font-style: italic;\n}\n\n#uybsoskfsc .gt_super {\n  font-size: 65%;\n}\n\n#uybsoskfsc .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#uybsoskfsc .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#uybsoskfsc .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#uybsoskfsc .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#uybsoskfsc .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#uybsoskfsc .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\"><strong>Name</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\"><strong>Team</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\"><strong>At Bats</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\"><strong>Hits</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\"><strong>Position</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\"><strong>Name Id</strong></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Fernando Abad*</td>\n<td class=\"gt_row gt_left\">BAL</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_left\">1</td>\n<td class=\"gt_row gt_left\">abadfe01</td></tr>\n    <tr><td class=\"gt_row gt_left\">Cory Abbott</td>\n<td class=\"gt_row gt_left\">CHC</td>\n<td class=\"gt_row gt_right\">3</td>\n<td class=\"gt_row gt_right\">1</td>\n<td class=\"gt_row gt_left\">/1H</td>\n<td class=\"gt_row gt_left\">abbotco01</td></tr>\n    <tr><td class=\"gt_row gt_left\">Albert Abreu</td>\n<td class=\"gt_row gt_left\">NYY</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_left\">1</td>\n<td class=\"gt_row gt_left\">abreual01</td></tr>\n    <tr><td class=\"gt_row gt_left\">Bryan Abreu</td>\n<td class=\"gt_row gt_left\">HOU</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_left\">1</td>\n<td class=\"gt_row gt_left\">abreubr01</td></tr>\n    <tr><td class=\"gt_row gt_left\">José Abreu</td>\n<td class=\"gt_row gt_left\">CHW</td>\n<td class=\"gt_row gt_right\">566</td>\n<td class=\"gt_row gt_right\">148</td>\n<td class=\"gt_row gt_left\">*3D/5</td>\n<td class=\"gt_row gt_left\">abreujo02</td></tr>\n    <tr><td class=\"gt_row gt_left\">Ronald Acuna Jr.</td>\n<td class=\"gt_row gt_left\">ATL</td>\n<td class=\"gt_row gt_right\">297</td>\n<td class=\"gt_row gt_right\">84</td>\n<td class=\"gt_row gt_left\">9/8H</td>\n<td class=\"gt_row gt_left\">acunaro01</td></tr>\n    <tr><td class=\"gt_row gt_left\">Jason Adam</td>\n<td class=\"gt_row gt_left\">CHC</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_right\">0</td>\n<td class=\"gt_row gt_left\">1</td>\n<td class=\"gt_row gt_left\">adamja01</td></tr>\n    <tr><td class=\"gt_row gt_left\">Willy Adames</td>\n<td class=\"gt_row gt_left\">TOT</td>\n<td class=\"gt_row gt_right\">497</td>\n<td class=\"gt_row gt_right\">130</td>\n<td class=\"gt_row gt_left\">*6/HD</td>\n<td class=\"gt_row gt_left\">adamewi01</td></tr>\n    <tr><td class=\"gt_row gt_left\">Willy Adames</td>\n<td class=\"gt_row gt_left\">TBR</td>\n<td class=\"gt_row gt_right\">132</td>\n<td class=\"gt_row gt_right\">26</td>\n<td class=\"gt_row gt_left\">6/H</td>\n<td class=\"gt_row gt_left\">adamewi01</td></tr>\n    <tr><td class=\"gt_row gt_left\">Willy Adames</td>\n<td class=\"gt_row gt_left\">MIL</td>\n<td class=\"gt_row gt_right\">365</td>\n<td class=\"gt_row gt_right\">104</td>\n<td class=\"gt_row gt_left\">6/DH</td>\n<td class=\"gt_row gt_left\">adamewi01</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nWe have several players with zero at bats, and low sample sizes won't provide adequate precision especially since batting averages are typically \\< 0.5. I'm going to arbitrarily filter to include only players with at least 20 at bats for this reason. (Some more in depth analysis could be done to address this issue but is beyond the scope of this blog post).\n\n- The \"/\" symbol is used to denote when a player has played less than 10 games that that position, so I'm going to remove these from the position column. \n\n- There is \"D\" or \"H\" designation for a designated hitter and pinch-hitters, and since I'm not a baseball expert I'm going to strip those from the positions.\n\n- If a player plays multiple positions they have multiple numbers associated with their position e.g. (54, 5 means third baseman; 4 means second baseman). I'm pretty sure they are in listed in the number of games played at that position so I'm going to simplify and only use their most common position. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create look-up table of position numbers to position name\nposition_numbers <- \n  tribble(~position_number, ~position_name,\n          1, \"pitcher\",\n          2, \"catcher\",\n          3, \"first_baseman\",\n          4, \"second_baseman\",\n          5, \"third_baseman\",\n          6, \"shortstop\",\n          7, \"left_fielder\",\n          8, \"center_fielder\",\n          9, \"right_fielder\")\n\ndf_clean <- \n  df_raw |> \n  mutate(position = str_remove(position, regex(\"(?=\\\\/).*\")),\n         position = str_remove(position, regex(\"[^a-zA-Z0-9]\")),\n         position = str_remove_all(position, regex(\"[HD]\")),\n         position = str_sub(position, 1,1 ),\n         position = as.numeric(position))|> \n  filter(!is.na(position),\n         position != 0,\n         at_bats >= 20)|> \n  left_join(position_numbers, by = c(\"position\" = \"position_number\")) |> \n  select(-position)\n\nhead(df_clean, 10) |> \n  gt() |> \n  cols_label(name = md(\"**Name**\"),\n             team = md(\"**Team**\"),\n             at_bats = md(\"**At Bats**\"),\n             hits = md(\"**Hits**\"),\n             position_name = md(\"**Position**\"),\n             name_additional = md(\"**Name Id**\"))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"kfirndgcin\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#kfirndgcin .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#kfirndgcin .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#kfirndgcin .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#kfirndgcin .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#kfirndgcin .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kfirndgcin .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#kfirndgcin .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#kfirndgcin .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#kfirndgcin .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#kfirndgcin .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#kfirndgcin .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#kfirndgcin .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#kfirndgcin .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#kfirndgcin .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#kfirndgcin .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#kfirndgcin .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#kfirndgcin .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kfirndgcin .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#kfirndgcin .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#kfirndgcin .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kfirndgcin .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#kfirndgcin .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#kfirndgcin .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kfirndgcin .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kfirndgcin .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#kfirndgcin .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#kfirndgcin .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kfirndgcin .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#kfirndgcin .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kfirndgcin .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#kfirndgcin .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kfirndgcin .gt_left {\n  text-align: left;\n}\n\n#kfirndgcin .gt_center {\n  text-align: center;\n}\n\n#kfirndgcin .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#kfirndgcin .gt_font_normal {\n  font-weight: normal;\n}\n\n#kfirndgcin .gt_font_bold {\n  font-weight: bold;\n}\n\n#kfirndgcin .gt_font_italic {\n  font-style: italic;\n}\n\n#kfirndgcin .gt_super {\n  font-size: 65%;\n}\n\n#kfirndgcin .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#kfirndgcin .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#kfirndgcin .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#kfirndgcin .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#kfirndgcin .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#kfirndgcin .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\"><strong>Name</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\"><strong>Team</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\"><strong>At Bats</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\"><strong>Hits</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\"><strong>Name Id</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\"><strong>Position</strong></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">José Abreu</td>\n<td class=\"gt_row gt_left\">CHW</td>\n<td class=\"gt_row gt_right\">566</td>\n<td class=\"gt_row gt_right\">148</td>\n<td class=\"gt_row gt_left\">abreujo02</td>\n<td class=\"gt_row gt_left\">first_baseman</td></tr>\n    <tr><td class=\"gt_row gt_left\">Ronald Acuna Jr.</td>\n<td class=\"gt_row gt_left\">ATL</td>\n<td class=\"gt_row gt_right\">297</td>\n<td class=\"gt_row gt_right\">84</td>\n<td class=\"gt_row gt_left\">acunaro01</td>\n<td class=\"gt_row gt_left\">right_fielder</td></tr>\n    <tr><td class=\"gt_row gt_left\">Willy Adames</td>\n<td class=\"gt_row gt_left\">TOT</td>\n<td class=\"gt_row gt_right\">497</td>\n<td class=\"gt_row gt_right\">130</td>\n<td class=\"gt_row gt_left\">adamewi01</td>\n<td class=\"gt_row gt_left\">shortstop</td></tr>\n    <tr><td class=\"gt_row gt_left\">Willy Adames</td>\n<td class=\"gt_row gt_left\">TBR</td>\n<td class=\"gt_row gt_right\">132</td>\n<td class=\"gt_row gt_right\">26</td>\n<td class=\"gt_row gt_left\">adamewi01</td>\n<td class=\"gt_row gt_left\">shortstop</td></tr>\n    <tr><td class=\"gt_row gt_left\">Willy Adames</td>\n<td class=\"gt_row gt_left\">MIL</td>\n<td class=\"gt_row gt_right\">365</td>\n<td class=\"gt_row gt_right\">104</td>\n<td class=\"gt_row gt_left\">adamewi01</td>\n<td class=\"gt_row gt_left\">shortstop</td></tr>\n    <tr><td class=\"gt_row gt_left\">Riley Adams</td>\n<td class=\"gt_row gt_left\">TOT</td>\n<td class=\"gt_row gt_right\">99</td>\n<td class=\"gt_row gt_right\">22</td>\n<td class=\"gt_row gt_left\">adamsri03</td>\n<td class=\"gt_row gt_left\">catcher</td></tr>\n    <tr><td class=\"gt_row gt_left\">Riley Adams</td>\n<td class=\"gt_row gt_left\">TOR</td>\n<td class=\"gt_row gt_right\">28</td>\n<td class=\"gt_row gt_right\">3</td>\n<td class=\"gt_row gt_left\">adamsri03</td>\n<td class=\"gt_row gt_left\">catcher</td></tr>\n    <tr><td class=\"gt_row gt_left\">Riley Adams</td>\n<td class=\"gt_row gt_left\">WSN</td>\n<td class=\"gt_row gt_right\">71</td>\n<td class=\"gt_row gt_right\">19</td>\n<td class=\"gt_row gt_left\">adamsri03</td>\n<td class=\"gt_row gt_left\">catcher</td></tr>\n    <tr><td class=\"gt_row gt_left\">Jo Adell</td>\n<td class=\"gt_row gt_left\">LAA</td>\n<td class=\"gt_row gt_right\">130</td>\n<td class=\"gt_row gt_right\">32</td>\n<td class=\"gt_row gt_left\">adelljo01</td>\n<td class=\"gt_row gt_left\">left_fielder</td></tr>\n    <tr><td class=\"gt_row gt_left\">Ehire Adrianza#</td>\n<td class=\"gt_row gt_left\">ATL</td>\n<td class=\"gt_row gt_right\">182</td>\n<td class=\"gt_row gt_right\">45</td>\n<td class=\"gt_row gt_left\">adriaeh01</td>\n<td class=\"gt_row gt_left\">third_baseman</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nThis is looking good! Though, there is the case when a player plays for multiple teams in one season so we'll aggregate based on based on the player - position pair. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nat_bats <- \n  df_clean |> \n  group_by(name, name_additional, position_name) |> \n  summarise(at_bats = sum(at_bats),\n            hits = sum(hits)) |> \n  mutate(name = str_remove_all(name, \"[^a-zA-z\\\\s]\")) |> \n  ungroup() \n\nat_bats |> \n  slice_head(n = 10) |> \n  gt() |> \n  cols_label(name = md(\"**Name**\"),\n             name_additional = md(\"**Name Id**\"),\n             position_name = md(\"**Position**\"),\n             at_bats = md(\"**At Bats**\"),\n             hits = md(\"**Hits**\")\n             )\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"vojbwnxptj\" style=\"overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#vojbwnxptj .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#vojbwnxptj .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vojbwnxptj .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#vojbwnxptj .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#vojbwnxptj .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vojbwnxptj .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#vojbwnxptj .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#vojbwnxptj .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#vojbwnxptj .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#vojbwnxptj .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#vojbwnxptj .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#vojbwnxptj .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vojbwnxptj .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#vojbwnxptj .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#vojbwnxptj .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#vojbwnxptj .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#vojbwnxptj .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vojbwnxptj .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#vojbwnxptj .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#vojbwnxptj .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vojbwnxptj .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#vojbwnxptj .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#vojbwnxptj .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vojbwnxptj .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vojbwnxptj .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#vojbwnxptj .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#vojbwnxptj .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#vojbwnxptj .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vojbwnxptj .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vojbwnxptj .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#vojbwnxptj .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#vojbwnxptj .gt_left {\n  text-align: left;\n}\n\n#vojbwnxptj .gt_center {\n  text-align: center;\n}\n\n#vojbwnxptj .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#vojbwnxptj .gt_font_normal {\n  font-weight: normal;\n}\n\n#vojbwnxptj .gt_font_bold {\n  font-weight: bold;\n}\n\n#vojbwnxptj .gt_font_italic {\n  font-style: italic;\n}\n\n#vojbwnxptj .gt_super {\n  font-size: 65%;\n}\n\n#vojbwnxptj .gt_two_val_uncert {\n  display: inline-block;\n  line-height: 1em;\n  text-align: right;\n  font-size: 60%;\n  vertical-align: -0.25em;\n  margin-left: 0.1em;\n}\n\n#vojbwnxptj .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#vojbwnxptj .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#vojbwnxptj .gt_slash_mark {\n  font-size: 0.7em;\n  line-height: 0.7em;\n  vertical-align: 0.15em;\n}\n\n#vojbwnxptj .gt_fraction_numerator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: 0.45em;\n}\n\n#vojbwnxptj .gt_fraction_denominator {\n  font-size: 0.6em;\n  line-height: 0.6em;\n  vertical-align: -0.05em;\n}\n</style>\n<table class=\"gt_table\">\n  \n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\"><strong>Name</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\"><strong>Name Id</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\"><strong>Position</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\"><strong>At Bats</strong></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\"><strong>Hits</strong></th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td class=\"gt_row gt_left\">Aaron Hicks</td>\n<td class=\"gt_row gt_left\">hicksaa01</td>\n<td class=\"gt_row gt_left\">center_fielder</td>\n<td class=\"gt_row gt_right\">108</td>\n<td class=\"gt_row gt_right\">21</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aaron Judge</td>\n<td class=\"gt_row gt_left\">judgeaa01</td>\n<td class=\"gt_row gt_left\">right_fielder</td>\n<td class=\"gt_row gt_right\">550</td>\n<td class=\"gt_row gt_right\">158</td></tr>\n    <tr><td class=\"gt_row gt_left\">Aaron Nola</td>\n<td class=\"gt_row gt_left\">nolaaa01</td>\n<td class=\"gt_row gt_left\">pitcher</td>\n<td class=\"gt_row gt_right\">49</td>\n<td class=\"gt_row gt_right\">7</td></tr>\n    <tr><td class=\"gt_row gt_left\">Abraham Almonte</td>\n<td class=\"gt_row gt_left\">almonab01</td>\n<td class=\"gt_row gt_left\">left_fielder</td>\n<td class=\"gt_row gt_right\">148</td>\n<td class=\"gt_row gt_right\">32</td></tr>\n    <tr><td class=\"gt_row gt_left\">Abraham Toro</td>\n<td class=\"gt_row gt_left\">toroab01</td>\n<td class=\"gt_row gt_left\">second_baseman</td>\n<td class=\"gt_row gt_right\">561</td>\n<td class=\"gt_row gt_right\">137</td></tr>\n    <tr><td class=\"gt_row gt_left\">Abraham Toro</td>\n<td class=\"gt_row gt_left\">toroab01</td>\n<td class=\"gt_row gt_left\">third_baseman</td>\n<td class=\"gt_row gt_right\">109</td>\n<td class=\"gt_row gt_right\">23</td></tr>\n    <tr><td class=\"gt_row gt_left\">Adalberto Mondes</td>\n<td class=\"gt_row gt_left\">mondera02</td>\n<td class=\"gt_row gt_left\">third_baseman</td>\n<td class=\"gt_row gt_right\">126</td>\n<td class=\"gt_row gt_right\">29</td></tr>\n    <tr><td class=\"gt_row gt_left\">Adam Duvall</td>\n<td class=\"gt_row gt_left\">duvalad01</td>\n<td class=\"gt_row gt_left\">left_fielder</td>\n<td class=\"gt_row gt_right\">199</td>\n<td class=\"gt_row gt_right\">45</td></tr>\n    <tr><td class=\"gt_row gt_left\">Adam Duvall</td>\n<td class=\"gt_row gt_left\">duvalad01</td>\n<td class=\"gt_row gt_left\">right_fielder</td>\n<td class=\"gt_row gt_right\">827</td>\n<td class=\"gt_row gt_right\">189</td></tr>\n    <tr><td class=\"gt_row gt_left\">Adam Eaton</td>\n<td class=\"gt_row gt_left\">eatonad02</td>\n<td class=\"gt_row gt_left\">right_fielder</td>\n<td class=\"gt_row gt_right\">508</td>\n<td class=\"gt_row gt_right\">102</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nGreat, after aggregating we have our data formatted appropriately for a binomial model.\n\nTo give some intuition on how hierarchical models work, ",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}